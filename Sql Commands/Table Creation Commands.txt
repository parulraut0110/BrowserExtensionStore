Create Database BrowserStore;

use BrowserStore;

create table Users(
username varchar(50) primary key not null,
password varchar(50) not null
);

create table Devops(
username varchar(50) primary key not null,
password varchar(50) not null
);

desc table Users;
desc table Devops;

insert into Devops(username, password) values("dev_parul", "Raut#0110");
insert into Devops(username, password) values("dev_divyani", "Pendam#0111");
insert into Devops(username, password) values("dev_pallavi", "Khare#0112");
insert into Devops(username, password) values("dev_yachana", "Mahant#0113");

select * from Devops;


create table Extensions(
serialNo int primary key auto_increment,
extensionName varchar(50) not null,
devId int not null,
dateUploaded date not null,
lastModified date not null,
versionNo varchar(20) not null,
browserLink varchar(255),
extension blob
);
   
   
desc table Extensions;

select * from Extensions;

ALTER TABLE Extensions MODIFY extension MEDIUMBLOB;


create table purchase(
purchase_id int not null primary key,
cust_id int,
prod_id int,
purchase_date date,
constraint fk_customer foreign key(cust_id) references customer(customer_id)
on update cascade 
on delete cascade,
foreign key(prod_id) references products(product_id)
on update cascade 
on delete cascade
);

use testApplication;
desc purchase;

select * from products;
select * from customer;

insert into customer(customer_id, name, email) values(12, "Parul", "parul@Raut.in");
insert into customer(customer_id, name, email) values(14, "sujal", "sujal@Raut.in");
insert into customer(customer_id, name, email) values(16, "suresh", "suresh@Raut.in");
insert into customer(customer_id, name, email) values(18, "madhumita", "madhu@Raut.in");

insert into purchase(purchase_id, cust_id, prod_id, purchase_date) values(34, 12, 15, "2024-08-12");
insert into purchase(purchase_id, cust_id, prod_id, purchase_date) values(35, 14, 16, "2024-08-10");

select * from purchase;

update products set product_id = 25 where product_id = 15;

alter table purchase drop constraint fk_customer;

alter table purchase add constraint fk_customer foreign key(cust_id) references customer(customer_id);


create table regional_sales(
region text,
sales_amt float,
period text
);


insert into regional_sales(region, sales_amt, period) values('east', 30000.00, 'Q1');
insert into regional_sales(region, sales_amt, period) values('west', 30100.00, 'Q2');
insert into regional_sales(region, sales_amt, period) values('north', 30200.00, 'Q4');
insert into regional_sales(region, sales_amt, period) values('east', 30300.00, 'Q3');
insert into regional_sales(region, sales_amt, period) values('north-east', 30400.00, 'Q2');
insert into regional_sales(region, sales_amt, period) values('east', 30300.00, 'Q4');
insert into regional_sales(region, sales_amt, period) values('west', 30700.00, 'Q2');
insert into regional_sales(region, sales_amt, period) values('east', 30800.00, 'Q1');

select * from regional_sales;

SELECT  period, region, max(sales_amt) AS total
FROM regional_sales
GROUP BY period, region WITH ROLLUP;


SELECT region, period, SUM(sales_amt) AS total
FROM regional_sales
GROUP BY CUBE(region, period);


